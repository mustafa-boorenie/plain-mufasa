{% comment %}
  PRNTD — Editorial Collection Page
  Rebrand v2 — February 2026
{% endcomment %}

{%- assign headerSnippetPath = 'header-index' -%}
{%- assign wfPage = '640ec1b9bae1c5c5ee03fef7' -%}
{%- assign bodyClasses = '' -%}

{% comment %} ============================================================
   HEADER — Minimal Navigation
   ============================================================ {% endcomment %}

<header class="prntd-header" id="prntd-header">
  <div class="prntd-header-inner">
    <a href="{{ routes.root_url }}" class="prntd-header-logo">P.</a>
    <nav class="prntd-header-nav">
      <a href="/collections/all">Shop</a>
      {% if cart.item_count > 0 %}
        <a href="/cart" class="prntd-cart-link">Bag ({{ cart.item_count }})</a>
      {% endif %}
    </nav>
  </div>
</header>

{% comment %} ============================================================
   COLLECTION HERO
   ============================================================ {% endcomment %}

<section class="collection-editorial">
  <div class="collection-header" data-animate="fade-up">
    <p class="prntd-ui-text">{{ collection.products_count }} Piece{% if collection.products_count != 1 %}s{% endif %}</p>
    <h1 class="prntd-brand-text">{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <p class="collection-description">{{ collection.description }}</p>
    {% endif %}
  </div>

  <div class="collection-grid">
    {% for product in collection.products %}
      <a href="{{ product.url | within: collection }}" class="collection-product" data-animate="fade-up" data-animate-delay="{{ forloop.index | times: 80 }}">
        <div class="collection-product-image">
          {% if product.featured_image %}
            <img 
              src="{{ product.featured_image | image_url: width: 800 }}" 
              alt="{{ product.title | escape }}"
              loading="{% if forloop.index <= 4 %}eager{% else %}lazy{% endif %}"
              width="800"
              height="1067"
            >
          {% else %}
            <div style="width: 100%; height: 100%; background: #e5e5e5;"></div>
          {% endif %}
        </div>
        <div class="collection-product-info">
          <h3>{{ product.title }}</h3>
          <span class="product-price">{{ product.price | money }}</span>
        </div>
      </a>
    {% endfor %}
  </div>

  {% if collection.products.size == 0 %}
    <div style="text-align: center; padding: 4rem 2rem;">
      <p class="prntd-ui-text" style="color: #888;">No pieces in this collection yet.</p>
    </div>
  {% endif %}

  {% comment %} Pagination {% endcomment %}
  {% if paginate %}
    {% if paginate.pages > 1 %}
      <nav class="collection-pagination" data-animate="fade-up">
        {% if paginate.previous %}
          <a href="{{ paginate.previous.url }}" class="prntd-btn">← Previous</a>
        {% endif %}
        {% if paginate.next %}
          <a href="{{ paginate.next.url }}" class="prntd-btn">Next →</a>
        {% endif %}
      </nav>
    {% endif %}
  {% endif %}
</section>

{% comment %} ============================================================
   FOOTER
   ============================================================ {% endcomment %}

<footer class="prntd-footer">
  <span>© {{ 'now' | date: '%Y' }} PRNTD</span>
  <div class="prntd-footer-links">
    <a href="https://instagram.com/prntdbybdq" target="_blank" rel="noopener">Instagram</a>
    <a href="https://x.com/prntdbybdq" target="_blank" rel="noopener">X</a>
  </div>
</footer>

{% comment %} ============================================================
   SCRIPTS
   ============================================================ {% endcomment %}

<script src="{{ 'scroll-animations.js' | asset_url }}" defer></script>
<script>
  // Header scroll effect
  (function() {
    var header = document.getElementById('prntd-header');
    if (!header) return;
    var scrolled = false;
    window.addEventListener('scroll', function() {
      var shouldScroll = window.scrollY > 40;
      if (shouldScroll !== scrolled) {
        scrolled = shouldScroll;
        header.classList.toggle('scrolled', scrolled);
      }
    }, { passive: true });
  })();
</script>
