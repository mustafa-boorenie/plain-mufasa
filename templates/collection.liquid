{% comment %}
  PRNTD — Editorial Collection Page (Dark Theme)
  Rebrand v3 — February 2026
{% endcomment %}

{%- assign headerSnippetPath = 'header-index' -%}
{%- assign bodyClasses = '' -%}

{% comment %} ============================================================
   HEADER — Dark Navigation
   ============================================================ {% endcomment %}

<header class="prntd-header" id="prntd-header">
  <div class="prntd-header-inner">
    <a href="{{ routes.root_url }}" class="prntd-header-logo">
      {% if settings.collection_screen_logo %}
        <img src="{{ settings.collection_screen_logo | image_url: width: 200 }}" alt="PRNTD" class="prntd-logo-img">
      {% elsif settings.shop_screen_logo %}
        <img src="{{ settings.shop_screen_logo | image_url: width: 200 }}" alt="PRNTD" class="prntd-logo-img">
      {% else %}
        P.
      {% endif %}
    </a>
    <nav class="prntd-header-nav">
      <a href="/collections/all">Shop</a>
      {% if cart.item_count > 0 %}
        <a href="/cart" class="prntd-cart-link">Bag ({{ cart.item_count }})</a>
      {% endif %}
    </nav>
  </div>
</header>

{% comment %} ============================================================
   COLLECTION — Dark Editorial
   ============================================================ {% endcomment %}

<section class="collection-editorial">
  <div class="collection-header" data-animate="fade-up">
    <p class="prntd-ui-text">{{ collection.products_count }} Piece{% if collection.products_count != 1 %}s{% endif %}</p>
    <h1 class="prntd-brand-text">{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <p class="collection-description">{{ collection.description }}</p>
    {% endif %}
  </div>

  <div class="collection-grid">
    {% for product in collection.products %}
      <a href="{{ product.url | within: collection }}" class="collection-product" data-animate="fade-up" data-animate-delay="{{ forloop.index | times: 80 }}">
        <div class="collection-product-image">
          {% if product.featured_image %}
            <img 
              src="{{ product.featured_image | image_url: width: 800 }}" 
              alt="{{ product.title | escape }}"
              loading="{% if forloop.index <= 4 %}eager{% else %}lazy{% endif %}"
              width="800"
              height="1067"
            >
          {% else %}
            <div style="width: 100%; height: 100%; background: #1a1a1a;"></div>
          {% endif %}
        </div>
        <div class="collection-product-info">
          <h3>{{ product.title }}</h3>
          <span class="product-price">{{ product.price | money }}</span>
        </div>
      </a>
    {% endfor %}
  </div>

  {% if collection.products.size == 0 %}
    <div style="text-align: center; padding: 4rem 2rem;">
      <p class="prntd-ui-text" style="color: #555;">No pieces in this collection yet.</p>
    </div>
  {% endif %}

  {% if paginate %}
    {% if paginate.pages > 1 %}
      <nav class="collection-pagination" data-animate="fade-up">
        {% if paginate.previous %}
          <a href="{{ paginate.previous.url }}" class="prntd-btn">← Previous</a>
        {% endif %}
        {% if paginate.next %}
          <a href="{{ paginate.next.url }}" class="prntd-btn">Next →</a>
        {% endif %}
      </nav>
    {% endif %}
  {% endif %}
</section>

{% comment %} ============================================================
   FOOTER
   ============================================================ {% endcomment %}

<footer class="prntd-footer-full">
  <div class="prntd-footer-full__inner">
    <div class="prntd-footer-full__col prntd-footer-full__brand">
      <span class="prntd-footer-full__logo prntd-brand-text">P.</span>
      <p class="prntd-footer-full__tagline">Heritage woven into the modern world.</p>
    </div>
    <div class="prntd-footer-full__col">
      <h4 class="prntd-footer-full__heading prntd-ui-text">Navigate</h4>
      <ul class="prntd-footer-full__list">
        <li><a href="/collections/all">Shop</a></li>
        <li><a href="/pages/about">About</a></li>
        <li><a href="/pages/lookbook">Lookbook</a></li>
        <li><a href="/pages/contact">Contact</a></li>
      </ul>
    </div>
    <div class="prntd-footer-full__col">
      <h4 class="prntd-footer-full__heading prntd-ui-text">Connect</h4>
      <ul class="prntd-footer-full__list">
        <li><a href="https://instagram.com/prntdbybdq" target="_blank" rel="noopener">Instagram</a></li>
        <li><a href="https://x.com/prntdbybdq" target="_blank" rel="noopener">X / Twitter</a></li>
        <li><a href="mailto:info@prntdbybdq.com">info@prntdbybdq.com</a></li>
      </ul>
    </div>
    <div class="prntd-footer-full__col prntd-footer-full__newsletter">
      <h4 class="prntd-footer-full__heading prntd-ui-text">Stay in the Loop</h4>
      <p class="prntd-footer-full__newsletter-text">New drops. Exclusive access. No noise.</p>
      <form class="prntd-footer-full__form" action="/contact#contact_form" method="post">
        <input type="hidden" name="form_type" value="customer">
        <input type="hidden" name="contact[tags]" value="newsletter">
        <input type="email" name="contact[email]" placeholder="Email address" required class="prntd-footer-full__input">
        <button type="submit" class="prntd-footer-full__submit prntd-ui-text">Subscribe</button>
      </form>
    </div>
  </div>
  <div class="prntd-footer-full__bottom">
    <span>© {{ 'now' | date: '%Y' }} PRNTD. All rights reserved.</span>
  </div>
</footer>

<script src="{{ 'scroll-animations.js' | asset_url }}" defer></script>
<script>
  (function() {
    var header = document.getElementById('prntd-header');
    if (!header) return;
    var scrolled = false;
    window.addEventListener('scroll', function() {
      var shouldScroll = window.scrollY > 40;
      if (shouldScroll !== scrolled) {
        scrolled = shouldScroll;
        header.classList.toggle('scrolled', scrolled);
      }
    }, { passive: true });
  })();
</script>
